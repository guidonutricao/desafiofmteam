@tailwind base;
@tailwind components;
@tailwind utilities;

/* Design system moderno para app de fitness com gamificação
   Baseado no design dark com acentos dourados/amarelos das imagens de referência
*/

@layer base {
  :root {
    /* Cores do tema claro */
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 45 93% 58%; /* Dourado vibrante */
    --primary-foreground: 222 84% 5%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 45 93% 58%; /* Dourado para acentos */
    --accent-foreground: 222 84% 5%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 45 93% 58%;

    --radius: 1rem;

    /* Cores específicas para gamificação */
    --gold: 45 93% 58%;
    --gold-foreground: 222 84% 5%;
    --success: 120 50% 50%;
    --success-foreground: 0 0% 100%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 100%;
    
    /* Gradientes */
    --gradient-gold: linear-gradient(135deg, hsl(45, 93%, 58%) 0%, hsl(38, 92%, 50%) 100%);
    --gradient-success: linear-gradient(135deg, hsl(120, 50%, 50%) 0%, hsl(142, 71%, 45%) 100%);
    --gradient-dark: linear-gradient(135deg, hsl(222, 84%, 4%) 0%, hsl(217, 33%, 8%) 100%);
    --gradient-card: linear-gradient(135deg, hsl(222, 84%, 6%) 0%, hsl(217, 33%, 10%) 100%);
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 45 93% 58%;
    --primary-foreground: 222.2 84% 4.9%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 45 93% 58%;
    --accent-foreground: 222.2 84% 4.9%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 45 93% 58%;

    /* Gradientes para tema escuro */
    --gradient-dark: linear-gradient(135deg, hsl(222, 84%, 4%) 0%, hsl(217, 33%, 8%) 100%);
    --gradient-card: linear-gradient(135deg, hsl(222, 84%, 6%) 0%, hsl(217, 33%, 10%) 100%);
  }
}

/* Accessibility improvements */
@layer utilities {
  /* Screen reader only content */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  .sr-only:focus {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }

  /* Focus styles for better keyboard navigation */
  .focus-visible:focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    .bg-gradient-to-r,
    .bg-gradient-to-br,
    .bg-gradient-to-l {
      background: hsl(var(--background));
      border: 2px solid hsl(var(--foreground));
    }
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    .animate-spin,
    .animate-pulse,
    .animate-bounce,
    .animate-float,
    .animate-glow,
    .animate-shimmer {
      animation: none;
    }
    
    .transition-all,
    .transition-opacity,
    .transition-transform {
      transition: none;
    }
  }
}

/* Custom animations for celebration page */
@keyframes float {
  0%, 100% { 
    transform: translateY(0px); 
  }
  50% { 
    transform: translateY(-10px); 
  }
}

@keyframes glow {
  0%, 100% { 
    box-shadow: 0 0 20px rgba(251, 191, 36, 0.3); 
  }
  50% { 
    box-shadow: 0 0 30px rgba(251, 191, 36, 0.6); 
  }
}

@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

.animate-glow {
  animation: glow 2s ease-in-out infinite;
}

.animate-shimmer {
  animation: shimmer 2s linear infinite;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    /* Tamanho base da fonte aumentado para melhor legibilidade */
    font-size: 16px;
    line-height: 1.6;
  }

  /* Melhorias de tipografia para diferentes elementos */
  .card {
    font-size: 16px;
  }

  .refeicao {
    font-size: 16px;
    line-height: 1.5;
  }

  /* Hierarquia tipográfica consistente */
  h1 {
    font-size: 2.25rem; /* 36px */
    line-height: 1.2;
  }

  h2 {
    font-size: 1.875rem; /* 30px */
    line-height: 1.3;
  }

  h3 {
    font-size: 1.5rem; /* 24px */
    line-height: 1.4;
  }

  h4 {
    font-size: 1.25rem; /* 20px */
    line-height: 1.4;
  }

  h5 {
    font-size: 1.125rem; /* 18px */
    line-height: 1.4;
  }

  h6 {
    font-size: 1rem; /* 16px */
    line-height: 1.4;
  }

  /* Media queries para responsividade */
  @media (max-width: 768px) {
    body {
      font-size: 15px;
    }
    
    .card {
      font-size: 15px;
    }
    
    .refeicao {
      font-size: 15px;
    }

    h1 {
      font-size: 1.875rem; /* 30px */
    }

    h2 {
      font-size: 1.5rem; /* 24px */
    }

    h3 {
      font-size: 1.25rem; /* 20px */
    }

    h4 {
      font-size: 1.125rem; /* 18px */
    }
  }

  @media (max-width: 480px) {
    body {
      font-size: 14px;
    }
    
    .card {
      font-size: 14px;
    }
    
    .refeicao {
      font-size: 14px;
    }

    h1 {
      font-size: 1.5rem; /* 24px */
    }

    h2 {
      font-size: 1.25rem; /* 20px */
    }

    h3 {
      font-size: 1.125rem; /* 18px */
    }

    h4 {
      font-size: 1rem; /* 16px */
    }
  }

  /* Melhorias específicas para elementos de dieta */
  .diet-item {
    font-size: 16px;
    line-height: 1.5;
  }

  .diet-title {
    font-size: 18px;
    font-weight: 600;
    line-height: 1.4;
  }

  .diet-description {
    font-size: 14px;
    line-height: 1.5;
    opacity: 0.8;
  }

  @media (max-width: 768px) {
    .diet-item {
      font-size: 15px;
    }
    
    .diet-title {
      font-size: 16px;
    }
    
    .diet-description {
      font-size: 13px;
    }
  }

  @media (max-width: 480px) {
    .diet-item {
      font-size: 14px;
    }
    
    .diet-title {
      font-size: 15px;
    }
    
    .diet-description {
      font-size: 12px;
    }
  }
}

/* Enhanced Celebration Page Animation System */
@layer utilities {
  /* Core animation keyframes */
  @keyframes float {
    0%, 100% { 
      transform: translateY(0px) rotate(0deg); 
    }
    25% {
      transform: translateY(-8px) rotate(1deg);
    }
    50% { 
      transform: translateY(-12px) rotate(0deg); 
    }
    75% {
      transform: translateY(-8px) rotate(-1deg);
    }
  }

  @keyframes glow {
    0%, 100% { 
      box-shadow: 0 0 20px rgba(251, 191, 36, 0.3), 0 0 40px rgba(251, 191, 36, 0.1); 
    }
    50% { 
      box-shadow: 0 0 30px rgba(251, 191, 36, 0.6), 0 0 60px rgba(251, 191, 36, 0.2); 
    }
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(40px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  @keyframes slideUpStaggered {
    0% {
      opacity: 0;
      transform: translateY(40px) scale(0.95);
    }
    60% {
      opacity: 0.8;
      transform: translateY(-5px) scale(1.02);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  @keyframes pulse-glow {
    0%, 100% {
      opacity: 0.3;
      transform: scale(1);
    }
    50% {
      opacity: 0.7;
      transform: scale(1.05);
    }
  }

  @keyframes shimmer {
    0% {
      transform: translateX(-100%) skewX(-15deg);
      opacity: 0;
    }
    50% {
      opacity: 1;
    }
    100% {
      transform: translateX(200%) skewX(-15deg);
      opacity: 0;
    }
  }

  @keyframes confetti-fall-optimized {
    0% {
      transform: translateY(-100vh) rotate(0deg) scale(1);
      opacity: 1;
    }
    10% {
      opacity: 1;
    }
    90% {
      opacity: 0.8;
    }
    100% {
      transform: translateY(100vh) rotate(720deg) scale(0.5);
      opacity: 0;
    }
  }

  @keyframes trophy-float {
    0%, 100% { 
      transform: translateY(0px) rotate(0deg) scale(1); 
    }
    25% {
      transform: translateY(-10px) rotate(2deg) scale(1.05);
    }
    50% { 
      transform: translateY(-15px) rotate(0deg) scale(1.1); 
    }
    75% {
      transform: translateY(-10px) rotate(-2deg) scale(1.05);
    }
  }

  @keyframes card-hover-glow {
    0% {
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }
    100% {
      box-shadow: 0 8px 40px rgba(251, 191, 36, 0.2), 0 4px 20px rgba(0, 0, 0, 0.15);
    }
  }

  @keyframes diagonal-gradient {
    0% {
      background-position: 0% 0%;
    }
    50% {
      background-position: 100% 100%;
    }
    100% {
      background-position: 0% 0%;
    }
  }

  @keyframes scale-bounce {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
    100% {
      transform: scale(1);
    }
  }

  /* Animation utility classes */
  .animate-float {
    animation: float 4s ease-in-out infinite;
    will-change: transform;
  }

  .animate-trophy-float {
    animation: trophy-float 3s ease-in-out infinite;
    will-change: transform;
  }

  .animate-glow {
    animation: glow 3s ease-in-out infinite;
    will-change: box-shadow;
  }

  .animate-slide-up {
    animation: slideUp 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
    will-change: transform, opacity;
  }

  .animate-slide-up-staggered {
    animation: slideUpStaggered 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
    will-change: transform, opacity;
  }

  .animate-pulse-glow {
    animation: pulse-glow 2.5s ease-in-out infinite;
    will-change: opacity, transform;
  }

  .animate-shimmer {
    animation: shimmer 2.5s ease-in-out infinite;
    will-change: transform, opacity;
  }

  .animate-confetti-optimized {
    animation: confetti-fall-optimized linear infinite;
    will-change: transform, opacity;
  }

  .animate-card-hover {
    transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .animate-card-hover:hover {
    animation: card-hover-glow 0.3s ease-out forwards;
    transform: translateY(-2px) scale(1.02);
  }

  .animate-diagonal-gradient {
    background-size: 200% 200%;
    animation: diagonal-gradient 8s ease-in-out infinite;
  }

  .animate-scale-bounce {
    animation: scale-bounce 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  /* Staggered animation delays */
  .animate-delay-100 {
    animation-delay: 0.1s;
  }

  .animate-delay-200 {
    animation-delay: 0.2s;
  }

  .animate-delay-300 {
    animation-delay: 0.3s;
  }

  .animate-delay-400 {
    animation-delay: 0.4s;
  }

  .animate-delay-500 {
    animation-delay: 0.5s;
  }

  .animate-delay-600 {
    animation-delay: 0.6s;
  }

  .animate-delay-700 {
    animation-delay: 0.7s;
  }

  .animate-delay-800 {
    animation-delay: 0.8s;
  }

  .animate-delay-900 {
    animation-delay: 0.9s;
  }

  .animate-delay-1000 {
    animation-delay: 1s;
  }

  .animate-delay-1200 {
    animation-delay: 1.2s;
  }

  .animate-delay-1500 {
    animation-delay: 1.5s;
  }

  /* Performance optimizations */
  .gpu-accelerated {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }

  /* Smooth diagonal gradient backgrounds */
  .bg-celebration-gradient {
    background: linear-gradient(
      135deg,
      #fef3c7 0%,
      #fed7aa 25%,
      #fde68a 50%,
      #fcd34d 75%,
      #f59e0b 100%
    );
  }

  .bg-celebration-gradient-animated {
    background: linear-gradient(
      135deg,
      #fef3c7 0%,
      #fed7aa 20%,
      #fde68a 40%,
      #fcd34d 60%,
      #f59e0b 80%,
      #d97706 100%
    );
    background-size: 200% 200%;
    animation: diagonal-gradient 10s ease-in-out infinite;
  }
}